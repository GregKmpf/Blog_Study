<<<<<<< HEAD
npm run dev

ðŸ“ Passo a Passo para ConfiguraÃ§Ã£o do Projeto
1. Iniciar o Projeto Node.js

Inicialize o projeto Node.js com o comando:

npm init -y

2. Instalar o Node.js

O Node.js permite que vocÃª execute JavaScript fora do navegador, como um servidor. Instale a dependÃªncia:

npm install node


Agora vocÃª pode rodar scripts JavaScript com:

node index.js

3. Instalar o Express (Servidor Web)

O Express Ã© um framework que facilita a criaÃ§Ã£o de servidores web e o gerenciamento de requisiÃ§Ãµes HTTP. Instale o Express:

npm install express


Defina um script "start" no seu package.json para rodar o servidor:

"scripts": {
  "start": "node index.js"
}


ApÃ³s isso, vocÃª pode rodar o servidor com:

npm start

4. Criar o Arquivo data-source.ts

Crie o arquivo data-source.ts para configurar a conexÃ£o com o banco de dados utilizando o TypeORM. Exemplo bÃ¡sico:

import 'reflect-metadata';
import { DataSource } from 'typeorm';
import { User } from './entity/users';

if (!process.env.DB_HOST || !process.env.DB_PORT || !process.env.DB_USER || !process.env.DB_PASSWORD || !process.env.DB_NAME) {
  throw new Error("Missing one or more required environment variables for database connection.");
}

export const AppDataSource = new DataSource({
  type: 'postgres',
  host: process.env.DB_HOST,
  port: Number(process.env.DB_PORT),
  username: process.env.DB_USER,
  password: process.env.DB_PASSWORD,
  database: process.env.DB_NAME,
  synchronize: true,
  logging: false,
  entities: [User],
  migrations: [],
  subscribers: [],
});

5. Criar a Entidade User

Crie a pasta entity e dentro dela o arquivo users.ts para representar a tabela de usuÃ¡rios no banco de dados.

Exemplo de definiÃ§Ã£o da entidade User:

import { Entity, PrimaryGeneratedColumn, Column } from 'typeorm';

@Entity()
export class User {
  @PrimaryGeneratedColumn()
  id!: number;

  @Column()
  name!: string;

  @Column({ unique: true })
  email!: string;
}

6. Instalar o TypeScript

Instale o TypeScript globalmente para poder compilar seus arquivos .ts:

npm install -g typescript


Depois, inicialize o arquivo tsconfig.json:

npx tsc --init


Dentro do tsconfig.json, adicione as seguintes configuraÃ§Ãµes para o TypeORM funcionar corretamente:

"experimentalDecorators": true,
"emitDecoratorMetadata": true

7. Instalar Tipos para Node.js

Para o TypeScript reconhecer as variÃ¡veis e tipos do ambiente Node.js, instale os tipos:

npm install --save-dev @types/node

8. Instalar o dotenv

O dotenv ajuda a carregar variÃ¡veis de ambiente de um arquivo .env para melhorar a seguranÃ§a, especialmente para informaÃ§Ãµes sensÃ­veis (ex: credenciais do banco de dados).

Instale o dotenv:

npm install dotenv


Crie um arquivo .env para armazenar suas variÃ¡veis de ambiente:

DB_HOST=localhost
DB_PORT=5432
DB_USER=usuario
DB_PASSWORD=senha
DB_NAME=meubanco

9. Instalar Tipos para o Express

Para usar o Express com TypeScript, instale os tipos necessÃ¡rios:

npm install --save-dev @types/express

10. Iniciar o Servidor no TypeScript

Crie o arquivo server.ts e configure o servidor Express com a conexÃ£o ao banco de dados e carregamento do .env:

Exemplo:

import 'reflect-metadata';
import dotenv from 'dotenv';
import express from 'express';
import { AppDataSource } from './data-source';

dotenv.config();

const PORT = process.env.PORT ? Number(process.env.PORT) : 3001;
const app = express();

async function start() {
  try {
    await AppDataSource.initialize();
    app.listen(PORT, () => console.log(`Server running on http://localhost:${PORT}`));
  } catch (err) {
    console.error('Failed to start application:', err);
    process.exit(1);
  }
}

start();

11. Instalar o Nodemon (Desenvolvimento)

Para reiniciar o servidor automaticamente enquanto desenvolve, instale o nodemon:

npm install --save-dev nodemon


Adicione um script "dev" para rodar com o nodemon:

"scripts": {
  "start": "ts-node server.ts",
  "dev": "nodemon server.ts"
}


Agora, use o comando para rodar com recarga automÃ¡tica:

npm run dev

12. ConfiguraÃ§Ã£o do tsconfig.json

Para corrigir erros de importaÃ§Ã£o, modifique o tsconfig.json para ajustar a configuraÃ§Ã£o do mÃ³dulo:

"verbatimModuleSyntax": false


13. Apesar de estarmos usando o nodemon, ele ainda estÃ¡ tentando executar o arquivo server.ts diretamente com o node,
 que sÃ³ entende arquivos .js (JavaScript), e nÃ£o .ts (TypeScript). Ã‰ por isso que ele nÃ£o consegue encontrar o mÃ³dulo 
 e "quebra".
Para resolver isso, precisamos instruir o nodemon a usar o ts-node, que Ã© um "executor" de TypeScript. 
Ele compila o cÃ³digo em tempo real, permitindo que o node o entenda

npm install ts-node --save-dev




----DIA 2-----
Relatorio do que foi feito -IA generation-

AtÃ© o momento, a estrutura inicial da sua API estÃ¡ quase completa. VocÃª conseguiu:

Configurar os arquivos package.json e tsconfig.json para o projeto.

Criar a entidade User com o TypeORM.

Estabelecer a conexÃ£o com o banco de dados PostgreSQL usando as variÃ¡veis de ambiente.

Criar um controlador (UserController) para a lÃ³gica de negÃ³cio de criaÃ§Ã£o de usuÃ¡rios.

Definir uma rota (user.routes.ts) para expor o endpoint de criaÃ§Ã£o de usuÃ¡rios.

Configurar o servidor Express (server.ts) para inicializar a aplicaÃ§Ã£o e a conexÃ£o com o banco de dados.

Corrigir diversos erros de configuraÃ§Ã£o, caminhos de arquivos e execuÃ§Ã£o, o que Ã© uma parte normal e essencial do desenvolvimento.


------------ DIA 2

1- Fazendo o servidor rodar normalmente

Instalar as dependencias de desenvolvimento faltantes
npm install ts-node nodemon --save-dev

2- NPM run dev nÃ£o funciona pois precis do ts-node para rodar arquivoss ts
agora ele roda com npm run dev

3-  O TypeScript estÃ¡ te dizendo que vocÃª estou tentando usar a variÃ¡vel AppDataSource antes de ela ser declarada.
mudarei isso no server.ts

4-instalar o "driver" para rodar o Pg admin
npm install pg

5- VÃRIOS PROBLEMAS COM A CONEXÃ‚O DE BANCO DE dados
senha e usuario
incorreto caminho do import { User } from './entity/users';
entre outros

6- Testes no POSTMAN
  









ðŸ“¦ DependÃªncias Instaladas

node â€“ Para rodar JavaScript como servidor.

express â€“ Framework para gerenciamento de servidores web.

typescript â€“ Compilador para TypeScript.

@types/node â€“ Tipos do Node.js para TypeScript.

@types/express â€“ Tipos do Express para TypeScript.

dotenv â€“ Para carregar variÃ¡veis de ambiente de um arquivo .env.

typeorm â€“ ORM para conectar com o banco de dados.

nodemon â€“ Ferramenta para reiniciar o servidor durante o desenvolvimento.

ðŸš€ Como Rodar o Projeto

Inicialize o projeto com:

npm start


Durante o desenvolvimento, use:

npm run dev

ðŸ”§ Erros Comuns e SoluÃ§Ãµes

Erro de importaÃ§Ã£o com typeorm:

Verifique a configuraÃ§Ã£o do tsconfig.json e adicione "verbatimModuleSyntax": false.

Erro no process.env:

Instale @types/node para garantir que o TypeScript reconheÃ§a os tipos de variÃ¡veis de ambiente.

Agora o seu projeto estÃ¡ bem estruturado! Se precisar de mais ajuda, Ã© sÃ³ chamar! ðŸ˜Š
=======
 #comeÃ§ando o projeto

 #instalaÃ§Ã£o de dependencias 

1-npm install node(usar javascript como um server)
jÃ¡ posso usar node index.js

2-Instalar o Express para "controlar o servidor"
ele Ã© usado para requisiÃ§Ãµes(ex: app.get)

npm install express
npm start para inicializar o Server

 inicializando o server -NPM Init

3-criar o arquivo data-source.ts
. Este arquivo conterÃ¡ a configuraÃ§Ã£o do banco de dados.
  Defina AppDataSource: Dentro deste novo arquivo, defina e exporte o objeto AppDataSource usando a classe DataSource do TypeORM.

4- Criei uma pasta entity(sera tabela no BD) com a classe users, para ser importada

5- npm install -g typescript para instalar o typescript e ter a pasta tsconfig.jason

iniciando e criando o tsconfig.json - > npx tsc --init

depois ir no tsconfig.json e por isso
/* Adicione/descomente essas duas linhas para o TypeORM */
    "experimentalDecorators": true,
    "emitDecoratorMetadata": true,

6- npm i --save-dev @types/node
para o typescript entender os modulos


7-npm intsll dotenv
porque?
seguranÃ§a de ter as informaÃ§Ãµes como local em um arquivo .env
para seguranÃ§a

8-COMEÃ‡ANDO A INTEGRAÃ‡Ã‚O COM BANCO DE DADOS

npm i --save-dev @types/express

criar instancia e erro cod no server.js


#Como rodar
node index.js



RELATORIOS de erros GERAIS
Estava tendo problema no import { DataSource } from 'typeorm'; tive que mudar no json
"verbatimModuleSyntax": false,

problema no const PORT = process.env.PORT ? Number(process.env.PORT) : 3001;
em process especificamente
preciso "@types/node package. This package contains all the type declarations for the Node.js environment."

npm i --save-dev @types/node
>>>>>>> d23f6738e686980f7d4ea8ce65f7ec90c341f292
